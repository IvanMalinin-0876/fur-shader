!function e(t,n,r){function a(o,d){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!d&&u)return u(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return a(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){"use strict";e("./stage")},{"./stage":6}],2:[function(e,t,n){"use strict";function r(){a.add(i,"wind",0,5)}Object.defineProperty(n,"__esModule",{value:!0});var a=new dat.GUI,i={wind:1};r(),n["default"]={config:i}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.$window=$(window),n.$stage=$("#stage"),n.$vertexShader=$("#vertexShader"),n.$fragmentShader=$("#fragmentShader")},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){w=e.scene,m=e.renderer,E=e.camera,$=(0,l["default"])(p),$.wrapS=$.wrapT=THREE.RepeatWrapping,S=new THREE.Texture(u()),S.needsUpdate=!0,S.wrapS=S.wrapT=THREE.RepeatWrapping,S.anisotropy=m.getMaxAnisotropy(),x=new THREE.SphereBufferGeometry(20,24,24),d(x,$,S)}function i(){void 0===T?y=1e3/60:(M=Date.now(),y=M-T,T=M);var e=y/16,t=Math.max(4,20/e),n=(b.x-P.x)/(5*t),r=(b.y-P.y)/(5*t);P.vx+=n,P.vy+=r,P.vx*=.96,P.vy*=.94,P.x+=P.vx,P.y+=P.vy,_.x=-(b.x-P.x)*v["default"].config.wind;var a=150*Math.sin(b.x)-E.position.x;_.y=-.75+Math.abs(a)/150-(b.y-P.y)*v["default"].config.wind,R+=.005*y;var i=void 0;for(i=0;i<H.length;i++)H[i].material.uniforms.globalTime.value=R}function o(){f.$stage.on("mousemove",function(e){e.originalEvent.preventDefault(),b.x=e.clientX/f.$stage.width()*2-1,b.y=2*-(e.clientY/f.$stage.height())+1}),f.$stage.on("touchmove",function(e){e.originalEvent.preventDefault(),b.x=e.originalEvent.touches[0].clientX/f.$stage.width()*2-1,b.y=2*-(e.originalEvent.touches[0].clientY/f.$stage.height())+1})}function d(e,t,n){var r=void 0,a=void 0,i=void 0,o=void 0;for(o=0;o<g;o++)r={color:{type:"c",value:new THREE.Color(16777215)},hairMap:{type:"t",value:n},colorMap:{type:"t",value:t},offset:{type:"f",value:o/g},globalTime:{type:"f",value:R},gravity:{type:"v3",value:_}},a=new THREE.ShaderMaterial({uniforms:r,vertexShader:f.$vertexShader.text(),fragmentShader:f.$fragmentShader.text(),transparent:!0}),i=new THREE.Mesh(e,a),i.matrixAutoUpdate=!1,i.frustumCulled=!1,w.add(i),H.push(i)}function u(){var e=document.createElement("canvas");e.width=h,e.height=h;var t=e.getContext("2d"),n=void 0;for(n=0;n<2e4;n++)t.fillStyle="rgba(255,"+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+",1)",t.fillRect(Math.random()*e.width,Math.random()*e.height,2,2);return e}Object.defineProperty(n,"__esModule",{value:!0});var f=e("./dom"),c=e("./loadTexture"),l=r(c),s=e("./datGui"),v=r(s);n["default"]={init:a,registerEvents:o,calc:i};var p="/img/fur.png",h=256,g=60,E=void 0,w=void 0,m=void 0,x=void 0,y=void 0,M=void 0,T=void 0,R=0,H=[],$=void 0,S=void 0,_=new THREE.Vector3(0,(-.75),0),b=new THREE.Vector2((-.5),.5),P={x:0,y:0,vx:0,vy:0}},{"./datGui":2,"./dom":3,"./loadTexture":5}],5:[function(e,t,n){"use strict";function r(e){return a||(a=new THREE.TextureLoader),a.load(e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var a=void 0},{}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){i(),o(),E.add(new THREE.GridHelper(300,10)),h["default"].init({scene:E,renderer:w,camera:g}),d(),h["default"].registerEvents()}function i(){w=new THREE.WebGLRenderer,w.setSize(c(),l()),w.setPixelRatio(w.getPixelRatio()),w.setClearColor(3355443),w.shadowMap.enabled=!0,w.shadowMap.type=THREE.PCFSoftShadowMap,v.$stage.append(w.domElement),E=new THREE.Scene,E.autoUpdate=!1,g=new THREE.PerspectiveCamera(30,s(),1,1e4),g.position.set(M*Math.cos(R),T,M*Math.sin(R)),E.add(g),y=new THREE.TrackballControls(g,v.$stage.get(0)),y.staticMoving=!1,y.maxDistance=1e3,y.minDistance=100}function o(){m=new THREE.DirectionalLight(16777215,.5),m.position.set(0,100,300),E.add(m),x=new THREE.AmbientLight(16777215),E.add(x)}function d(){v.$window.on("resize",function(){g.aspect=s(),g.updateProjectionMatrix(),w.setSize(c(),l())})}function u(){E.updateMatrixWorld(),w.render(E,g)}function f(){h["default"].calc(),y.update(),u(),requestAnimationFrame(f)}function c(){return window.innerWidth}function l(){return window.innerHeight}function s(){return c()/l()}var v=e("./dom"),p=e("./fur"),h=r(p),g=void 0,E=void 0,w=void 0,m=void 0,x=void 0,y=void 0,M=150,T=40,R=Math.PI/2;a(),f()},{"./dom":3,"./fur":4}]},{},[1]);