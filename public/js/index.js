!function e(t,n,r){function a(o,u){if(!n[o]){if(!t[o]){var d="function"==typeof require&&require;if(!u&&d)return d(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return a(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){"use strict";e("./stage")},{"./stage":6}],2:[function(e,t,n){"use strict";function r(){a.add(i,"wind",0,5),a.add(i,"gravity",0,3),a.add(i,"texture",o)}Object.defineProperty(n,"__esModule",{value:!0});var a=new dat.GUI,i={wind:1,gravity:.9,texture:"giraffe"},o=["giraffe","dot","white","cow","fuji","wave"];r(),n["default"]={config:i,textures:o}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.$window=$(window),n.$stage=$("#stage"),n.$vertexShader=$("#vertexShader"),n.$fragmentShader=$("#fragmentShader")},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e)R=e.scene,H=e.renderer,M=e.camera,i(v()),O=new THREE.Texture(l()),O.needsUpdate=!0,O.wrapS=O.wrapT=THREE.RepeatWrapping,O.anisotropy=H.getMaxAnisotropy();else if(P.length>0){var t=void 0;for(t=0;t<P.length;t++)R.remove(P[t]);for(t=0;t<P.length;t++)P[t].geometry&&P[t].geometry.dispose(),P[t].material&&P[t].material.dispose();P=[]}S=new THREE.SphereBufferGeometry(20,24,24),c(S,D,O)}function i(e){D=(0,h["default"])(e),D.wrapS=D.wrapT=THREE.RepeatWrapping}function o(e){if(e.width===E&&e.height===E){T.drawImage(e,0,0,e.width,e.height,0,0,E,E);var t=new Image;t.src=y.toDataURL(),D=new THREE.Texture(t)}else D=new THREE.Texture(e);D.wrapS=D.wrapT=THREE.RepeatWrapping}function u(){x!==w["default"].config.texture&&(x=w["default"].config.texture,i(v()),a())}function d(){void 0===b?$=1e3/60:(_=Date.now(),$=_-b,b=_);var e=$/16,t=Math.max(4,20/e),n=(j.x-F.x)/(5*t),r=(j.y-F.y)/(5*t);F.vx+=n,F.vy+=r,F.vx*=.96,F.vy*=.94,F.x+=F.vx,F.y+=F.vy,U.x=-(j.x-F.x)*w["default"].config.wind;var a=150*Math.sin(j.x)-M.position.x;U.y=-w["default"].config.gravity+Math.abs(a)/150-(j.y-F.y)*w["default"].config.wind,C+=.005*$;var i=void 0;for(i=0;i<P.length;i++)P[i].material.uniforms.globalTime.value=C}function f(){s.$stage.on("mousemove",function(e){e.originalEvent.preventDefault(),j.x=e.clientX/s.$stage.width()*2-1,j.y=2*-(e.clientY/s.$stage.height())+1}),s.$stage.on("touchmove",function(e){e.originalEvent.preventDefault(),j.x=e.originalEvent.touches[0].clientX/s.$stage.width()*2-1,j.y=2*-(e.originalEvent.touches[0].clientY/s.$stage.height())+1})}function c(e,t,n){var r=void 0,a=void 0,i=void 0,o=void 0;for(o=0;o<m;o++)r={color:{type:"c",value:new THREE.Color(16777215)},hairMap:{type:"t",value:n},colorMap:{type:"t",value:t},offset:{type:"f",value:o/m},globalTime:{type:"f",value:C},gravity:{type:"v3",value:U}},a=new THREE.ShaderMaterial({uniforms:r,vertexShader:s.$vertexShader.text(),fragmentShader:s.$fragmentShader.text(),transparent:!0}),i=new THREE.Mesh(e,a),i.matrixAutoUpdate=!1,i.frustumCulled=!1,R.add(i),P.push(i)}function l(){var e=document.createElement("canvas");e.width=E,e.height=E;var t=e.getContext("2d"),n=void 0;for(n=0;n<2e4;n++)t.fillStyle="rgba(255,"+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+",1)",t.fillRect(Math.random()*e.width,Math.random()*e.height,2,2);return e}function v(){return"/img/fur/"+w["default"].config.texture+".png"}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./dom"),g=e("./loadTexture"),h=r(g),p=e("./datGui"),w=r(p);n["default"]={init:a,registerEvents:f,calc:d,updateTexture:u,changeFurTexture:i,changeFurTextureFromImage:o};var x=w["default"].config.texture,E=256,m=60,y=document.createElement("canvas");y.width=E,y.height=E;var T=y.getContext("2d"),M=void 0,R=void 0,H=void 0,S=void 0,$=void 0,_=void 0,b=void 0,C=0,P=[],D=void 0,O=void 0,U=new THREE.Vector3(0,(-w["default"].config.gravity),0),j=new THREE.Vector2((-.5),.5),F={x:0,y:0,vx:0,vy:0}},{"./datGui":2,"./dom":3,"./loadTexture":5}],5:[function(e,t,n){"use strict";function r(e){return a||(a=new THREE.TextureLoader),a.load(e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var a=void 0},{}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){i(),o(),h["default"].init({scene:w,renderer:x,camera:p}),u(),h["default"].registerEvents()}function i(){x=new THREE.WebGLRenderer,x.setSize(c(),l()),x.setPixelRatio(x.getPixelRatio()),x.setClearColor(3355443),x.shadowMap.enabled=!0,x.shadowMap.type=THREE.PCFSoftShadowMap,s.$stage.append(x.domElement),w=new THREE.Scene,w.autoUpdate=!1,p=new THREE.PerspectiveCamera(30,v(),1,1e4),p.position.set(T*Math.cos(R),M,T*Math.sin(R)),w.add(p),y=new THREE.TrackballControls(p,s.$stage.get(0)),y.staticMoving=!1,y.maxDistance=1e3,y.minDistance=100}function o(){E=new THREE.DirectionalLight(16777215,.5),E.position.set(0,100,300),w.add(E),m=new THREE.AmbientLight(16777215),w.add(m)}function u(){s.$window.on("resize",function(){p.aspect=v(),p.updateProjectionMatrix(),x.setSize(c(),l())})}function d(){w.updateMatrixWorld(),x.render(w,p)}function f(){h["default"].calc(),h["default"].updateTexture(),y.update(),d(),requestAnimationFrame(f)}function c(){return window.innerWidth}function l(){return window.innerHeight}function v(){return c()/l()}var s=e("./dom"),g=e("./fur"),h=r(g),p=void 0,w=void 0,x=void 0,E=void 0,m=void 0,y=void 0,T=150,M=40,R=Math.PI/2;a(),f()},{"./dom":3,"./fur":4}]},{},[1]);